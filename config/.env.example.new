# BMC AMI DevX Code Pipeline FastMCP Server Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# CORE SERVER CONFIGURATION
# =============================================================================

# FastMCP Server Settings
FASTMCP_SERVER_NAME=BMC AMI DevX Code Pipeline MCP Server
FASTMCP_SERVER_VERSION=2.3.0
FASTMCP_LOG_LEVEL=INFO
FASTMCP_MASK_ERROR_DETAILS=false
FASTMCP_INCLUDE_FASTMCP_META=true
FASTMCP_ON_DUPLICATE_TOOLS=error
FASTMCP_RESOURCE_PREFIX_FORMAT=path
FASTMCP_EXPERIMENTAL_ENABLE_NEW_OPENAPI_PARSER=false

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# Enable/Disable Authentication
FASTMCP_AUTH_ENABLED=false

# Authentication Provider (choose one)
# Option 1: JWT Token Verification
# FASTMCP_AUTH_PROVIDER=fastmcp.server.auth.providers.jwt.JWTVerifier
# AUTH_JWKS_URI=https://your-auth-system.com/.well-known/jwks.json
# AUTH_ISSUER=https://your-auth-system.com
# AUTH_AUDIENCE=your-mcp-server

# Option 2: GitHub OAuth (requires manual app registration)
# FASTMCP_AUTH_PROVIDER=fastmcp.server.auth.providers.github.GitHubProvider
# FASTMCP_SERVER_AUTH_GITHUB_CLIENT_ID=Ov23li...
# FASTMCP_SERVER_AUTH_GITHUB_CLIENT_SECRET=github_pat_...

# Option 3: Google OAuth (requires manual app registration)
# FASTMCP_AUTH_PROVIDER=fastmcp.server.auth.providers.google.GoogleProvider
# FASTMCP_SERVER_AUTH_GOOGLE_CLIENT_ID=123456.apps.googleusercontent.com
# FASTMCP_SERVER_AUTH_GOOGLE_CLIENT_SECRET=GOCSPX-...

# Option 4: WorkOS AuthKit (supports Dynamic Client Registration)
# FASTMCP_AUTH_PROVIDER=fastmcp.server.auth.providers.workos.WorkOSProvider
# FASTMCP_SERVER_AUTH_WORKOS_CLIENT_ID=client_...
# FASTMCP_SERVER_AUTH_WORKOS_CLIENT_SECRET=sk_...
# FASTMCP_SERVER_AUTH_WORKOS_DOMAIN=https://your-project.authkit.app

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

FASTMCP_RATE_LIMIT_ENABLED=true
FASTMCP_RATE_LIMIT_REQUESTS_PER_MINUTE=60
FASTMCP_RATE_LIMIT_BURST_SIZE=10

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

FASTMCP_CACHE_ENABLED=true
FASTMCP_CACHE_MAX_SIZE=1000
FASTMCP_CACHE_DEFAULT_TTL=300

# =============================================================================
# MONITORING & METRICS CONFIGURATION
# =============================================================================

FASTMCP_MONITORING_ENABLED=true
FASTMCP_METRICS_ENABLED=true
FASTMCP_ERROR_RECOVERY_ENABLED=true
FASTMCP_MAX_RETRY_ATTEMPTS=3

# =============================================================================
# TOOL FILTERING CONFIGURATION
# =============================================================================

# Include only tools with these tags (comma-separated)
FASTMCP_INCLUDE_TAGS=public,api,monitoring,management,workflow,elicitation

# Exclude tools with these tags (comma-separated)
FASTMCP_EXCLUDE_TAGS=internal,deprecated

# =============================================================================
# CUSTOM ROUTES CONFIGURATION
# =============================================================================

FASTMCP_CUSTOM_ROUTES_ENABLED=true
FASTMCP_HEALTH_CHECK_PATH=/health
FASTMCP_STATUS_PATH=/status
FASTMCP_METRICS_PATH=/metrics
FASTMCP_READY_PATH=/ready

# =============================================================================
# RESOURCE TEMPLATES CONFIGURATION
# =============================================================================

FASTMCP_RESOURCE_TEMPLATES_ENABLED=true
FASTMCP_RESOURCE_PREFIX=bmc://

# =============================================================================
# PROMPTS CONFIGURATION
# =============================================================================

FASTMCP_PROMPTS_ENABLED=true

# =============================================================================
# BMC API CONFIGURATION
# =============================================================================

# BMC AMI DevX API Settings
BMC_API_BASE_URL=https://devx.bmc.com/code-pipeline/api/v1
BMC_API_TIMEOUT=30
BMC_API_TOKEN=your_bmc_api_token_here

# Legacy API Configuration (for backward compatibility)
API_BASE_URL=https://devx.bmc.com/code-pipeline/api/v1
API_TIMEOUT=30
API_RETRY_ATTEMPTS=3
API_TOKEN=your_api_token_here

# =============================================================================
# OPENAPI CONFIGURATION
# =============================================================================

# OpenAPI Specification Path
FASTMCP_OPENAPI_SPEC_PATH=config/ispw_openapi_spec.json

# Alternative: Load from URL
# FASTMCP_OPENAPI_SPEC_URL=https://api.example.com/openapi.json

# =============================================================================
# FEATURE TOGGLES
# =============================================================================

# Global feature toggle (overrides individual feature settings)
FASTMCP_FEATURE_ENABLED=true

# =============================================================================
# LEGACY CONFIGURATION (for backward compatibility)
# =============================================================================

# Server Configuration (legacy)
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=INFO

# OpenAPI Specification Path (legacy)
OPENAPI_SPEC_PATH=config/openapi.json
