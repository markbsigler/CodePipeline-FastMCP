# OpenTelemetry Configuration for FastMCP Server
# Copy this file to .env and customize for your environment

# =============================================================================
# OTEL Core Configuration
# =============================================================================

# Enable/disable OpenTelemetry
OTEL_ENABLED=true

# Service identification
OTEL_SERVICE_NAME=fastmcp-server
OTEL_SERVICE_VERSION=2.3.1
OTEL_SERVICE_NAMESPACE=bmc-devx
OTEL_ENVIRONMENT=development

# =============================================================================
# Tracing Configuration
# =============================================================================

# Enable distributed tracing
OTEL_TRACING_ENABLED=true

# Trace sampling rate (0.0 to 1.0)
# Production: 0.05-0.1, Development: 1.0
OTEL_TRACE_SAMPLE_RATE=1.0

# Console trace output for debugging
OTEL_CONSOLE_EXPORTER=false

# =============================================================================
# Metrics Configuration
# =============================================================================

# Enable metrics collection
OTEL_METRICS_ENABLED=true

# Prometheus metrics port
OTEL_PROMETHEUS_PORT=9464

# Prometheus metrics enabled
PROMETHEUS_ENABLED=true
PROMETHEUS_METRICS_PORT=9464
PROMETHEUS_METRICS_PATH=/metrics

# =============================================================================
# Exporter Configuration
# =============================================================================

# OTLP (OpenTelemetry Protocol) exporter
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Jaeger exporter
OTEL_EXPORTER_JAEGER_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# Resource Attributes (Custom)
# =============================================================================

# Add custom resource attributes
OTEL_RESOURCE_ATTRIBUTES_TEAM=devops
OTEL_RESOURCE_ATTRIBUTES_REGION=us-east-1
OTEL_RESOURCE_ATTRIBUTES_DATACENTER=dc1

# =============================================================================
# Performance Tuning
# =============================================================================

# Batch span processor settings
OTEL_BSP_MAX_QUEUE_SIZE=2048
OTEL_BSP_EXPORT_TIMEOUT=30000
OTEL_BSP_SCHEDULE_DELAY=5000

# Auto-initialization
OTEL_AUTO_INITIALIZE=true

# =============================================================================
# FastMCP Server Configuration
# =============================================================================

# Server settings
HOST=0.0.0.0
PORT=8080

# Authentication (optional)
AUTH_ENABLED=false
AUTH_PROVIDER=jwt

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# Caching
CACHE_ENABLED=true
CACHE_MAX_SIZE=1000
CACHE_TTL_SECONDS=300

# BMC API settings
BMC_API_BASE_URL=https://api.bmc.example.com
BMC_API_TIMEOUT=30
BMC_API_RETRY_ATTEMPTS=3

# =============================================================================
# Environment-Specific Overrides
# =============================================================================

# Development Environment
# OTEL_TRACE_SAMPLE_RATE=1.0
# OTEL_CONSOLE_EXPORTER=true
# LOG_LEVEL=DEBUG

# Staging Environment
# OTEL_TRACE_SAMPLE_RATE=0.5
# OTEL_ENVIRONMENT=staging
# LOG_LEVEL=INFO

# Production Environment
# OTEL_TRACE_SAMPLE_RATE=0.05
# OTEL_CONSOLE_EXPORTER=false
# OTEL_ENVIRONMENT=production
# LOG_LEVEL=WARNING
